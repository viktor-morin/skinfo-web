<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="shortcut icon" type="image/png" href="images/favicon.png" />
    <script src="scripts/jquery-3.4.1.min.js"></script>
    <script src="scripts/skinfo.js"></script>
    <script src="scripts/instafeed.min.js"></script>
    <script src="scripts/amplitude.js"></script>
    <script src="scripts/searchshop.js"></script>
    <title>Skinfo</title>
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0 user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="google" content="nositelinkssearchbox" />
    <meta name="description"
        content="The first scalable solution that automatically generate scientific information on ingredients in skincare & cosmetics products. We provide product transparency for consumers and e-commerce actors." />
    <meta name="keywords"
        content="information, ingredients, skincare, cosmetics, makeup, skincare app, skincare guide, health hazard, harmful, bad, carcinogenic, endocrine disruption, toxic, irritant, allergic, allergy, effects, health effects, organic, vegan, natural, synthetic, chemical, spf, sun protection factor,information,ingredienser,hudvård,kosmetika,smink,hudvårdsapp,kosmetik,hudvårdsguide,farliga,dåliga,skadliga,cancerframkallande,hormonstörande,giftiga,irriterande,allergiska,allergi,påverkan,hälsoeffekter,organiska,ekologiska,veganska,naturliga,syntetiska,kemiska,spf">
    <meta property="og:site_name" content="Skinfo.se" />
    <meta property="og:url" content="https://www.skinfo.se/" />
    <!-- Google Analytics -->
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-150835481-1', {
            cookieFlags: 'max-age=7200;secure;samesite=none'
        });
        ga('send', 'pageview');
    </script>
    <!-- End Google Analytics -->
</head>

<body>
    <div class="page-container">
        <div class="content">
            <div id="main-menu" class="main-menu one-edge-shadow">
                <div class="skinfo-menu">
                    <span class="skinfo-title"><a href="index"><img src="svg/skinfo-logo-color-black.svg"
                                height="20px"></a></span>
                    <!-- <div style="float: right;">
                        <a class="menu-button" href="howitworks">How it works</a>
                        <a class="menu-button" href="price">Price</a>
                        <a class="menu-button" href="search">Ingredient search</a>
                        <a class="menu-button blackbackgroundcolor"
                            style="padding-top:15px; padding-bottom: 13px; padding-left: 25px; padding-right: 25px; color:white !important; border-radius: 0.5rem; text-align: center;"
                            href="price">Start free trial</a>
                    </div> -->
                </div>
                <div id="skinfo-menu-mobile" class="skinfo-menu-mobile">
                    <span class="skinfo-title"><a href="index"><img src="svg/skinfo-logo-color-black.svg" height="20px"
                                style="padding-top:10px"></a></span>
                    <!-- <div style="float: right; padding-right: 20px;">
                        <div class="bar1"></div>
                        <div class="bar2"></div>
                        <div class="bar3"></div>
                    </div> -->
                </div>
                <!-- <div id="skinfo-menu-mobile-expanded" style="display: none; width: 100%;">
                    <a class="menu-button" href="howitworks">How it works</a>
                    <a class="menu-button" href="price">Price</a>
                    <a class="menu-button one-edge-shadow" href="search">Ingredient search</a>
                </div> -->
            </div>
            <div style="margin-top:50px;"></div>
            <div class="one-block-fullwidth graybackgroundcolor skinfobackground"
                style="display: flex; padding-top: 6rem; padding-bottom: 6rem; margin-top: 0px;">
                <div style="margin:auto; width: 89%;">
                    <h1 style="text-align: left; font-size: 1.7em; margin-bottom: 10px;">Sök och förstå alla
                        ingredienser i produkter</h1>
                    <div style="display: flex; max-width: 100%; min-width: 100%;">
                        <span style="font-size: 14px;">Alltid baserad på vetenskaplig information</span>
                        <span
                            style="height: 25px; width: 25px; display: flex; float: right; vertical-align: top; margin-left: 10px; margin-top: -4px;">
                            <?xml version="1.0" encoding="utf-8"?><svg version="1.1" id="Layer_1"
                                xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
                                y="0px" viewBox="0 0 122.881 122.88" enable-background="new 0 0 122.881 122.88"
                                xml:space="preserve">
                                <g>
                                    <path
                                        d="M61.44,0c16.966,0,32.326,6.877,43.445,17.995s17.996,26.479,17.996,43.444c0,16.967-6.877,32.327-17.996,43.445 S78.406,122.88,61.44,122.88c-16.966,0-32.326-6.877-43.444-17.995S0,78.406,0,61.439c0-16.965,6.877-32.326,17.996-43.444 S44.474,0,61.44,0L61.44,0z M34.556,67.179c-1.313-1.188-1.415-3.216-0.226-4.529c1.188-1.313,3.216-1.415,4.529-0.227L52.3,74.611 l31.543-33.036c1.223-1.286,3.258-1.336,4.543-0.114c1.285,1.223,1.336,3.257,0.113,4.542L54.793,81.305l-0.004-0.004 c-1.195,1.257-3.182,1.338-4.475,0.168L34.556,67.179L34.556,67.179z M100.33,22.55C90.377,12.598,76.627,6.441,61.44,6.441 c-15.188,0-28.938,6.156-38.89,16.108c-9.953,9.953-16.108,23.702-16.108,38.89c0,15.188,6.156,28.938,16.108,38.891 c9.952,9.952,23.702,16.108,38.89,16.108c15.187,0,28.937-6.156,38.89-16.108c9.953-9.953,16.107-23.702,16.107-38.891 C116.438,46.252,110.283,32.502,100.33,22.55L100.33,22.55z" />
                                </g>
                            </svg>
                        </span>
                    </div>
                    <div style="margin-top: 50px; margin-bottom: 10px;">
                        <div id="searchbar" class="searchbar"
                            style="width: 90% !important; border-radius: unset !important; margin: auto !important; height: auto;">
                            <div id="searchinput">
                                <div id="searchicon" style="width: 20px; height: 20px; float: left; margin-top: 4px;">
                                    <svg focusable="false" xmlns="http://www.w3.org/2000/svg" fill="#9aa0a6"
                                        viewBox="0 0 20 20" style="width: 20px!important;
                                        height: 20px !important;">
                                        <path
                                            d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z">
                                        </path>
                                    </svg>
                                </div>
                                <form id="searchform" style="width: 100%;" autocomplete="off" action="/search?id=">
                                    <input type="text" id="searchbox" autocomplete="off" autofocus type="search"
                                        name="id" placeholder="Sök varumärke, produkt eller ingrediens"
                                        class="searchbox">
                                    </input>
                                </form>
                            </div>
                        </div>
                        <div id="searchbar-suggestions" class="searchbar-suggestions" style="display: none;"></div>
                    </div>
                    <a style="display: flex; max-width: 100%; min-width: 100%;">
                        <span style="font-size: 14px;">Detta är en beta-version. Ge oss feedback</span>
                        <span
                            style="height: 25px; width: 25px; display: flex; float: right; vertical-align: top; margin-left: 10px; margin-top: -4px;">
                            <svg fill="#000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">
                                <path
                                    d="M 25 2 C 12.309295 2 2 12.309295 2 25 C 2 37.690705 12.309295 48 25 48 C 37.690705 48 48 37.690705 48 25 C 48 12.309295 37.690705 2 25 2 z M 25 4 C 36.609824 4 46 13.390176 46 25 C 46 36.609824 36.609824 46 25 46 C 13.390176 46 4 36.609824 4 25 C 4 13.390176 13.390176 4 25 4 z M 25 11 A 3 3 0 0 0 22 14 A 3 3 0 0 0 25 17 A 3 3 0 0 0 28 14 A 3 3 0 0 0 25 11 z M 21 21 L 21 23 L 22 23 L 23 23 L 23 36 L 22 36 L 21 36 L 21 38 L 22 38 L 23 38 L 27 38 L 28 38 L 29 38 L 29 36 L 28 36 L 27 36 L 27 21 L 26 21 L 22 21 L 21 21 z" />
                            </svg>
                        </span>
                    </a>
                </div>
            </div>
            <div>
                <div>
                    <input type="checkbox" id="no-concerns" name="no-concerns">
                    <label for="no-concerns">Inga anmärkingar</label>
                </div>
                <div>
                    <input type="checkbox" id="vegan" name="vegan">
                    <label for="vegan">Vegan</label>
                </div>
                <label for="sort">Sort Order</label>
                <select name="sort" id="sort">
                    <option value="a-z">Produktnamn (A-Z)</option>
                    <option value="z-a">Produktnamn (Z-A)</option>
                    <option value="a-brand">Varumärke (A-Z)</option>
                    <option value="z-brand">Varumärke (Z-A)</option>
                    <option value="low-price">Lägsta Pris</option>
                    <option value="high-price">Högsta Pris</option>
                    <option value="low-concerns">Anmärkningar (få)</option>
                    <option value="high-concerns">Anmärkningar (många)</option>
                </select>
            </div>
            <div class="one-block" style="padding-top: 3rem; padding-bottom: 3rem;">
                <div>
                    Alla produkter
                </div>
                <div id="allproducts" class="products-container">

                </div>
            </div>
            <div class="one-block" style="padding-top: 3rem; padding-bottom: 3rem;">
                <div>
                    Produkter utan anmärkning
                </div>
                <div id="none">

                </div>
            </div>
            <div class="one-block-fullwidth graybackgroundcolor footer-main" style="margin-bottom: 0;">
                <div class="graybackgroundcolor" style="display: flex;">
                    <div class="footer">
                        <div class="footer-item skinfo-logo-foooter" style="display: flex;">
                            <div style="display: flex;">
                                <div style="margin: auto;">
                                    <img style="width: 150px;" src="svg/skinfo-logo-color-RGB.svg">
                                </div>
                            </div>
                        </div>
                        <div class="footer-item">
                            <div>
                                <div class="footer-header">Skinfo</div>
                                <div class="footer-links">
                                    <a class="footer-link" href="price">Price</a>
                                    <a class="footer-link" href="howitworks">How it works</a>
                                    <a class="footer-link" href="search">Ingredient Search</a>
                                    <a class="footer-link" href="casestudies">Case Studies</a>
                                    <a class="footer-link" target="_blank" rel="noopener noreferrer"
                                        href="https://api.skinfo.se">Developers API
                                        Reference
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="footer-item">
                            <div>
                                <div class="footer-header">Company</div>
                                <div class="footer-links">
                                    <a class="footer-link" href="aboutus">About us</a>
                                    <a class="footer-link" href="contactus">Contact us</a>
                                    <a class="footer-link" href="pressandmedia">Press & Media</a>
                                    <a class="footer-link" href="privacypolicy">Privacy Policy</a>
                                    <a class="footer-link" href="termsandcondition">Terms & Conditions</a>
                                </div>
                            </div>
                        </div>
                        <div class="footer-item">
                            <div>
                                <div class="footer-header">Connect with us</div>
                                <div class="footer-links">
                                    <div class="social-media">
                                        <div style="display: flex; margin: auto;">
                                            <div class="social-media-icon">
                                                <a target="_blank" rel="noopener noreferrer"
                                                    href="https://www.instagram.com/skinfo.official"> <svg
                                                        role="presentation" viewBox="-2.5 -5 55 55">
                                                        <linearGradient id="insta-gradient" x1="0%" x2="100%" y1="0%"
                                                            y2="100%">
                                                            <stop offset="0" stop-color="#e80026"></stop>
                                                            <stop offset="1" stop-color="#bc00ac"></stop>
                                                        </linearGradient>
                                                        <g fill="none" fill-rule="evenodd" transform="translate(.5)">
                                                            <circle cx="24" cy="24" fill="url(#insta-gradient)" r="26">
                                                            </circle>
                                                            <g fill="#fff" fill-rule="nonzero"
                                                                transform="translate(14 14)">
                                                                <path
                                                                    d="m10 1.80436508c2.6692857 0 2.9854365.01023809 4.0396825.05833333.9746826.04448413 1.5039683.20730159 1.8562699.34420635.4342099.16025873.8269834.41579335 1.1494444.74781746.3320241.32246105.5875588.7152345.7478175 1.14944445.1369047.3522619.2997619.8815873.3442063 1.85626984.0480953 1.05416666.0582937 1.37031746.0582937 4.03968249 0 2.6693651-.0101984 2.9854366-.0582937 4.0396826-.0444841.9746825-.2073412 1.5039682-.3442063 1.8562698-.3363143.8718421-1.0254199 1.5609477-1.8972619 1.8972619-.3522619.1369048-.8815873.2997619-1.8562699.3442064-1.0539682.0480952-1.370119.0582936-4.0396825.0582936-2.66956349 0-2.98559524-.0101984-4.03968254-.0582936-.97468254-.0444841-1.50396825-.2073413-1.85626984-.3442064-.43421055-.1602575-.82698426-.4157923-1.14944445-.7478174-.33202306-.3224619-.58755752-.7152351-.74781746-1.1494445-.13690476-.3522619-.2997619-.8815873-.34420634-1.8562698-.04809524-1.054127-.05829366-1.3703175-.05829366-4.0396826 0-2.66936503.01019842-2.98543646.05829366-4.03968249.04448412-.97468254.20730158-1.50396826.34420634-1.85626984.16027662-.43423159.41583907-.8270197.74789683-1.14948413.3224619-.33202307.71523511-.58755752 1.14944444-.74781746.35226191-.13690476.88158731-.29976191 1.85626985-.34420635 1.05416666-.04809524 1.37031746-.05829365 4.03968257-.05829365m0-1.80123016c-2.71500003 0-3.05555559.01150794-4.1216667.06015873-1.0640873.04857143-1.79075397.21753968-2.42662699.46468254-.66703973.25101711-1.27129677.64451547-1.77063492 1.15305556-.50865468.49930683-.90226292 1.10356623-1.15337301 1.77063492-.24694445.6359127-.4159127 1.36257936-.46428572 2.42666666-.0488492 1.06611111-.06035714 1.40666667-.06035714 4.12166667s.01150794 3.0555556.06035714 4.1216667c.04857143 1.0640873.21753969 1.7907539.46468254 2.426627.25101826.6670391.64451647 1.2712959 1.15305556 1.7706349.49933652.508542 1.10359403.9020407 1.77063492 1.1530555.6359127.2471429 1.36257936.4161111 2.42662698.4646826 1.06626984.0486508 1.40670635.0601587 4.12166664.0601587 2.7149603 0 3.0555556-.0115079 4.1216667-.0601587 1.0640873-.0485715 1.790754-.2175397 2.426627-.4646826 1.3428072-.5193465 2.404344-1.5808832 2.9236905-2.9236904.2471428-.6359127.4161111-1.3625794.4646825-2.426627.0486508-1.0662699.0601587-1.4067064.0601587-4.1216667 0-2.71496032-.0115079-3.05555556-.0601587-4.12166667-.0485714-1.0640873-.2175397-1.79075396-.4646825-2.42662698-.2510149-.66704089-.6445135-1.2712984-1.1530556-1.77063492-.4993483-.50864147-1.1036494-.90222327-1.770754-1.15329365-.6359127-.24694445-1.3625793-.4159127-2.4266666-.46428572-1.0661111-.0488492-1.4066667-.06035714-4.1216667-.06035714z">
                                                                </path>
                                                                <path
                                                                    d="m10 4.86646825c-2.8351713 0-5.13353175 2.29836045-5.13353175 5.13353175s2.29836045 5.1335317 5.13353175 5.1335317 5.1335317-2.2983604 5.1335317-5.1335317-2.2983604-5.13353175-5.1335317-5.13353175zm0 8.46579365c-1.84035227 0-3.33222222-1.4919361-3.33222222-3.33228835 0-1.84035227 1.49192286-3.33223545 3.33227512-3.33223545 1.8403523 0 3.3322487 1.49190963 3.3322487 3.3322619 0 1.8403639-1.4919377 3.3322619-3.3323016 3.3322619z">
                                                                </path>
                                                                <circle cx="15.336349" cy="4.663651" r="1.199603">
                                                                </circle>
                                                            </g>
                                                        </g>
                                                    </svg></a>
                                            </div>
                                            <div class="social-media-icon">
                                                <a target="_blank" rel="noopener noreferrer"
                                                    href="https://www.facebook.com/skinfo-112112250281156/">
                                                    <svg role="presentation" viewBox="-2.5 -5 55 55">
                                                        <g fill="none" fill-rule="evenodd">
                                                            <circle cx="24.5" cy="24" fill="#3b5998" r="26">
                                                            </circle>
                                                            <g fill-rule="nonzero" transform="translate(12.5 12)">
                                                                <path d="m0 0h24v24h-24z" fill="#000" opacity="0"
                                                                    transform="matrix(-1 0 0 -1 24 24)">
                                                                </path>
                                                                <path
                                                                    d="m17 3.5c0-.27614237-.2238576-.5-.5-.5h-2.5c-2.6206835-.13054557-4.85472495 1.8800917-5 4.5v2.7h-2.5c-.27614237 0-.5.2238576-.5.5v2.6c0 .2761424.22385763.5.5.5h2.5v6.7c0 .2761424.22385763.5.5.5h3c.2761424 0 .5-.2238576.5-.5v-6.7h2.62c.2287445.0032859.4305439-.1490932.49-.37l.72-2.6c.0403184-.1497279.0088876-.3096887-.0850863-.4330295-.0939739-.1233407-.2398548-.1961015-.3949137-.1969705h-3.35v-2.7c.051542-.51290129.4845219-.90258325 1-.9h2.5c.2761424 0 .5-.22385763.5-.5z"
                                                                    fill="#fff"></path>
                                                            </g>
                                                        </g>
                                                    </svg></a>
                                            </div>
                                            <div class="social-media-icon">
                                                <a target="_blank" rel="noopener noreferrer"
                                                    href="https://www.linkedin.com/company/skinfo/"> <svg
                                                        role="presentation" viewBox="-2.5 -5 55 55">
                                                        <g fill="none" fill-rule="evenodd">
                                                            <circle cx="24.5" cy="24" fill="#0077b5" r="26">
                                                            </circle>
                                                            <g fill-rule="nonzero" transform="translate(12.5 12)">
                                                                <path d="m0 0h24v24h-24z" fill="#000" opacity="0"
                                                                    transform="matrix(-1 0 0 -1 24 24)">
                                                                </path>
                                                                <path
                                                                    d="m15.15 8.39996562c1.5479431-.00527818 3.0344522.60523353 4.13183 1.69698368 1.032826 1.0275295 1.6411426 2.4019439 1.7113415 3.8506202l.0068285.2724305v5.88c0 .4588212-.3433367.8374518-.7871059.8929877l-.1128941.0070123h-2.1c-.4588212 0-.8374518-.3433367-.8929877-.7871059l-.0070123-.1128941v-5.81c.0079484-1.0138751-.7440421-1.8732929-1.75-2-.5480814-.0596792-1.0956684.1166548-1.5059361.4849416-.3646825.3273661-.5902448.778911-.6355882 1.262423l-.0084757.1826354v5.88c0 .4588212-.3433367.8374518-.7871059.8929877l-.1128941.0070123h-2.1c-.23869484 0-.46761336-.0948212-.6363961-.2636039-.14065229-.1406523-.22994236-.3230655-.25579871-.5180965l-.00780519-.1182996v-5.88c.00264603-1.54795.62079234-3.0313006 1.71817-4.1230507 1.0973778-1.09175015 2.5838869-1.70226186 4.13183-1.69698368zm-8.55.90003438c.49705627 0 .9.40294373.9.9v9.9c0 .4970563-.40294373.9-.9.9h-2.7c-.49705627 0-.9-.4029437-.9-.9v-9.9c0-.49705627.40294373-.9.9-.9zm-1.35-6.3c1.24264069 0 2.25 1.00735931 2.25 2.25s-1.00735931 2.25-2.25 2.25-2.25-1.00735931-2.25-2.25 1.00735931-2.25 2.25-2.25z"
                                                                    fill="#fff"></path>
                                                            </g>
                                                        </g>
                                                    </svg></a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>
<style>
    .skinfobackground {
        background-image: url(shop/background.png);
        background-size: cover;
        min-height: 20vh;
    }

    .products-container {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        padding: 20px;
    }

    .product-card {
        display: flex;
        flex-direction: column;
        margin: auto;
        cursor: pointer;
        transition: 0.3s;
        padding: 20px;
        border: 1px solid rgba(0, 0, 0, 0.1);
        min-height: 325px;
        /* min-width: 165px; */
        width: 100%;
        width: -moz-available;
        /* WebKit-based browsers will ignore this. */
        width: -webkit-fill-available;
        /* Mozilla-based browsers will ignore this. */
        width: fill-available;
    }

    .product-card:hover {
        box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
    }

    .product-img-div {
        max-width: 140px;
        max-height: 140px;
        display: flex;
        margin: auto;
    }

    .product-img {
        height: auto;
        line-height: 140px;
        vertical-align: middle;
        max-height: inherit;
        max-width: inherit;
    }

    .product-brand {
        font-weight: bold;
        color: black;
    }

    .product-name {
        color: black;
    }

    .product-price {
        color: black;
    }

    .search-tag {
        background-color: rgba(0, 0, 0, 0.1);
        height: fit-content;
        padding: 5px;
        border-radius: 0.25rem;
        margin-left: 5px;
        float: left;
        margin-bottom: 5px;
    }

    .search-tag-delete {
        padding-top: 2px;
        margin-left: 3px;
        padding-left: 1px;
        padding-right: 1px;
        cursor: pointer;
    }

    .search-tag-delete:hover {
        background-color: black;
        fill: white;
        border-radius: 0.25rem;
    }

    .searchbox {
        text-transform: lowercase !important;
        min-width: 285px;
    }

    .skinfoDataElement {
        display: flex;
        flex-direction: column;
    }

    .skinfoDataNumber {
        color: black;
    }

    @media only screen and (max-width: 500px) {
        .products-container {
            grid-template-columns: repeat(2, minmax(0, 1fr));
        }
    }

    /* temp */
    input[type="checkbox"] {
        -webkit-appearance: auto !important;
    }
</style>
<script>
    var url = 'https://localhost:5001/';
    url = 'https://staging.skinfo.se/';

    function loadSessionStorage() {

        var tagsJSON = sessionStorage.getItem('tags');
        var productJSON = sessionStorage.getItem('products');

        var tags = JSON.parse(tagsJSON);
        if (tags) {
            for (i = 0; i < tags.length; i++) {
                var tagElement = document.createElement('span');
                tagElement.classList.add('search-tag');
                tagElement.innerHTML = tags[i];

                var inputfield = document.getElementById('searchinput');
                var children = inputfield.children;
                for (i = 0; i < children.length; i++) {
                    if (children[i].id == 'searchicon' || children[i].classList.contains('search-tag'))
                        continue;
                    else {
                        children[i].insertAdjacentElement('beforebegin', tagElement);
                        return;
                    }
                }
            }
        }

        var products = JSON.parse(productJSON);
        if (products) {
            products.forEach(product => createProductCardElement(product));
        }
    }

    function saveSessionStorage(data) {
        var tags = document.getElementsByClassName('search-tag');
        var innerTags = [];
        for (i = 0; i < tags.length; i++) {
            innerTags.push(tags[i].innerHTML);
        }

        window.sessionStorage.setItem('tags', JSON.stringify(innerTags));
        window.sessionStorage.setItem('products', JSON.stringify(data));
    };

    //     // Save data to sessionStorage
    // sessionStorage.setItem('key', 'value');

    // // Get saved data from sessionStorage
    // let data = sessionStorage.getItem('key');

    // // Remove saved data from sessionStorage
    // sessionStorage.removeItem('key');

    // // Remove all saved data from sessionStorage
    // sessionStorage.clear();

    function auto_grow(element) {
        element.style.height = "5px";
        element.style.height = (element.scrollHeight) + "px";
    }

    function removeTag(e) {
        e.parentElement.parentElement.remove();
    }

    // function getAllTags() {
    //     var tagElements = document.getElementsByClassName('search-tags');
    //     var tags = [];
    //     for (i = 0; i < tagElements.length; i++)
    //         tags.push(tagElements[i].innerText);

    //     return tags;
    // }

    function getAllTagsAsBrowseTags() {
        return {
            brands: Array.from(document.getElementsByClassName('search-tags-brand')).map(m => m.innerText),
            ingredients: Array.from(document.getElementsByClassName('search-tags-ingredient')).map(m => m.innerText),
            productNames: Array.from(document.getElementsByClassName('search-tags-name')).map(m => m.innerText),
        };
    }

    function createProductCardElement(product) {
        var card = document.createElement('a');
        card.href = 'https://skinfo.se/product?id=' + product.id;
        card.classList.add('product-card');

        var productImg = document.createElement('div');
        productImg.classList.add('product-img-div');

        var img = document.createElement('img');
        img.src = product.pictureUrl;
        img.classList.add('product-img');
        productImg.appendChild(img);

        card.appendChild(productImg);

        var brand = document.createElement('brand');
        brand.innerText = product.brand;
        brand.classList.add('product-brand');
        card.appendChild(brand);

        var name = document.createElement('div');
        name.innerText = product.name;
        name.classList.add('product-name');
        card.appendChild(name);

        var price = document.createElement('div');
        price.innerText = product.price;
        price.classList.add('product-price');
        card.appendChild(price);

        var skinfoData = document.createElement('div');
        skinfoData.style.display = 'flex';
        skinfoData.style.justifyContent = 'space-evenly';
        var skinfoLogo = document.createElement('img');
        skinfoLogo.src = 'svg/skinfo-logo-color-black.svg';
        skinfoLogo.style.width = '50px';

        var skinfunctionsDiv = document.createElement('div');
        skinfunctionsDiv.classList.add('skinfoDataElement');
        var skinfunctions = document.createElement('div');
        skinfunctions.innerHTML = '<?xml version="1.0" encoding="utf-8"?><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.881 122.88" enable-background="new 0 0 122.881 122.88" xml:space="preserve"><g><path d="M61.44,0c16.966,0,32.326,6.877,43.445,17.995s17.996,26.479,17.996,43.444c0,16.967-6.877,32.327-17.996,43.445 S78.406,122.88,61.44,122.88c-16.966,0-32.326-6.877-43.444-17.995S0,78.406,0,61.439c0-16.965,6.877-32.326,17.996-43.444 S44.474,0,61.44,0L61.44,0z M34.556,67.179c-1.313-1.188-1.415-3.216-0.226-4.529c1.188-1.313,3.216-1.415,4.529-0.227L52.3,74.611 l31.543-33.036c1.223-1.286,3.258-1.336,4.543-0.114c1.285,1.223,1.336,3.257,0.113,4.542L54.793,81.305l-0.004-0.004 c-1.195,1.257-3.182,1.338-4.475,0.168L34.556,67.179L34.556,67.179z M100.33,22.55C90.377,12.598,76.627,6.441,61.44,6.441 c-15.188,0-28.938,6.156-38.89,16.108c-9.953,9.953-16.108,23.702-16.108,38.89c0,15.188,6.156,28.938,16.108,38.891 c9.952,9.952,23.702,16.108,38.89,16.108c15.187,0,28.937-6.156,38.89-16.108c9.953-9.953,16.107-23.702,16.107-38.891 C116.438,46.252,110.283,32.502,100.33,22.55L100.33,22.55z" /></g></svg>';
        skinfunctions.style.width = '20px';

        if (product.skinfunctions.length > 0)
            skinfunctions.style.fill = 'green';
        else
            skinfunctions.style.fill = 'lightgray';

        skinfunctionsDiv.appendChild(skinfunctions);
        var skinfunctionsNumber = document.createElement('div');
        skinfunctionsNumber.innerText = product.skinfunctions.length + 'st';
        skinfunctionsNumber.classList.add('skinfoDataNumber');
        skinfunctionsDiv.appendChild(skinfunctionsNumber);

        var highlightsDiv = document.createElement('div');
        highlightsDiv.classList.add('skinfoDataElement');
        var highlights = document.createElement('div');
        highlights.innerHTML = '<?xml version="1.0" ?><svg style="enable-background:new 0 0 32 32;" version="1.1" viewBox="7.5 7.5 48 48" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><style type="text/css"></style><g><g transform="translate(28.000000, 278.000000)"><path d="M4-222.1c-13.2,0-23.9-10.7-23.9-23.9c0-13.2,10.7-23.9,23.9-23.9s23.9,10.7,23.9,23.9 C27.9-232.8,17.2-222.1,4-222.1L4-222.1z M4-267.3c-11.7,0-21.3,9.6-21.3,21.3s9.6,21.3,21.3,21.3s21.3-9.6,21.3-21.3 S15.7-267.3,4-267.3L4-267.3z"/><polygon points="-8.7,-247.4 16.7,-247.4 16.7,-244.6 -8.7,-244.6"/><polygon points="2.6,-258.7 5.4,-258.7 5.4,-233.3 2.6,-233.3"/></g></g></svg>';
        highlights.style.width = '20px';

        if (product.highlights.length > 0)
            highlights.style.fill = 'black';
        else
            highlights.style.fill = 'lightgray';

        highlightsDiv.appendChild(highlights);
        var highlightsNumber = document.createElement('div');
        highlightsNumber.innerText = product.highlights.length + 'st';
        highlightsNumber.classList.add('skinfoDataNumber');
        highlightsDiv.appendChild(highlightsNumber);

        var concernsDiv = document.createElement('div');
        concernsDiv.classList.add('skinfoDataElement');
        concernsDiv.style.display = 'flex';
        var concerns = document.createElement('div');
        concerns.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 286.054 286.054" style="enable-background:new 0 0 286 286;" xml:space="preserve"><g><path d="M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027 c78.996,0,143.027-64.022,143.027-143.027C286.054,64.04,222.022,0,143.027,0z M143.027,259.236 c-64.183,0-116.209-52.026-116.209-116.209S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209 S207.21,259.236,143.027,259.236z M143.036,62.726c-10.244,0-17.995,5.346-17.995,13.981v79.201c0,8.644,7.75,13.972,17.995,13.972 c9.994,0,17.995-5.551,17.995-13.972V76.707C161.03,68.277,153.03,62.726,143.036,62.726z M143.036,187.723 c-9.842,0-17.852,8.01-17.852,17.86c0,9.833,8.01,17.843,17.852,17.843s17.843-8.01,17.843-17.843 C160.878,195.732,152.878,187.723,143.036,187.723z"></path></g></svg>';
        concerns.style.width = '20px';

        if (product.concerns.length > 0)
            concerns.style.fill = '#FFA100';
        if (product.concerns.length == 0)
            concerns.style.fill = 'lightgray';

        concernsDiv.appendChild(concerns);
        var concernsNumber = document.createElement('div');
        concernsNumber.innerText = product.concerns.length + 'st';
        concernsNumber.classList.add('skinfoDataNumber');
        concernsDiv.appendChild(concernsNumber);

        skinfoData.appendChild(skinfoLogo);
        skinfoData.appendChild(skinfunctionsDiv);
        skinfoData.appendChild(highlightsDiv);
        skinfoData.appendChild(concernsDiv);
        card.appendChild(skinfoData);

        document.getElementById('allproducts').appendChild(card);
    }

    function getCookie(cname) {
        let name = cname + "=";
        let decodedCookie = decodeURIComponent(document.cookie);
        let ca = decodedCookie.split(';');
        for (let i = 0; i < ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
                return c.substring(name.length, c.length);
            }
        }
        return "";
    }

    $.ajax({
        url: url + '/shopproduct/getall/',
        type: 'GET',
        headers: { 'apikey': 'EChu_A6S2vd' },
        success: function (data) {
            data.forEach(product => createProductCardElement(product));
        },
        error: function (data) {
            //errorFunction();
        }
    });

    $.ajax({
        url: 'https://staging.skinfo.se/cookie/shop/',
        type: 'GET',
        xhrFields: {
            withCredentials: true
        },
        success: function () {
            var userId = getCookie('_skinfo-shop-id');
            amplitude.getInstance().setUserId(userId);
        },
        error: function () {
        }
    });

    document.getElementById('allproducts').onclick = function () {
        var event = 'Button Clicked';
        var eventProperties = {
            "hover time": "100ms"
        };
        amplitude.getInstance().logEvent(event, eventProperties);
    }

    document.getElementById('sort').onchange = function (e) {
        browse();
    }

    document.getElementById('no-concerns').onchange = function (e) {
        browse();
    }

    document.getElementById('vegan').onchange = function (e) {
        browse();
    }

    loadSessionStorage();
</script>